# Телеграмм бот для поставщика Wildberries

Бот позволяет:

- Работать с поставками: создавать, закрывать (отгружать), редактировать, удалять
- Проверять новые заказы, добавлять их к поставкам
- Создавать стикеры для маркировки заказов. Бот автоматически создает штрих-коды для товаров, объединяет их с QR-кодами
  поставок в один pdf-файл.
- Бот работает только с пользователями, указанными в переменной окружения `USER_IDS`.
  *(В разработке добавление пользователей, управление пользователями)*

![](preview.gif)

## Как установить

- Создайте файл `config.py` и укажите в нём следующие переменные
    - **COUNTRY** - страна производитель, которая будет указана в штрих-коде
    - **BRAND** - бренд, который будет указана в штрих-коде
    - **FONT_FILE** и **FONT_NAME** - имя файла и название шрифта. Шрифт должен лежать в папке с ботом]
    - (необязательно) **PAGINATOR_PAGE_SIZE** - количество элементов на странице при пагинации (по умолчанию 8)
    - (необязательно) **SUPPLIES_QUANTITY** - количество поставок, которые будут загружаться при нажатии "Показать
      поставки" (по умолчанию 40)

### Необходимо установить следующие переменные окружения

- **TG_TOKEN** - токен телеграмм бота, полученный от [BotFather](https://t.me/BotFather)
- **WB_API_KEY** - API ключ Wildberries
- **USER_IDS** - Список телеграмм-ID пользователей бота

### Чтобы получать логи в телеграмме укажите следующие переменные окружения (не обязательно)

- **TG_LOGGER_TOKEN** - токен телеграмм бота для отправки логов
- **ADMIN_ID** - Телеграмм-ID кому присылать логи

## Как запустить

Все операции нужно проводить из директории с файлом bot.py

### С помощью Docker

- Соберите образ командой `docker build -t bot .`

- Запустите контайнер `docker run --env-file ./.env bot`

### В виртуальном окружении

- Python3.10 должен быть уже установлен.

- Создайте виртуальное окружение командой `python3 -m venv venv`

- Активируйте его. На windows командой `venv\scripts\activate`\
На linux - `source venv/bin/activate`

- Используйте `pip` для установки необходимых компонентов:`pip install -r requirements.txt`

- Запустите бота командой `python3 bot.py` 
